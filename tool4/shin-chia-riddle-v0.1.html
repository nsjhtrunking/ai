<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v0.1 - æ–°å˜‰åœ‹å°å¯¦å¢ƒè§£è¬ï¼šé»ƒé‡‘è™è çš„ç§˜å¯†</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /*
         * --- CSS æ¨£å¼ï¼šæš—è‰²ç³»ã€å¡é€šæ´»æ½‘é¢¨æ ¼ ---
         */

        :root {
            --dark-bg: #1e272e; /* æ·±è‰²èƒŒæ™¯ */
            --main-color: #f39c12; /* é»ƒé‡‘è™è è‰² (ä¸»é¡Œè‰²) */
            --accent-color: #27ae60; /* ç¨»ç±³/æˆåŠŸè‰² */
            --text-color: #ecf0f1;
            --card-bg: #34495e;
            --font-cartoon: 'Fredoka One', cursive;
            --font-body: 'Noto Sans TC', sans-serif;
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: var(--font-body);
            color: var(--text-color);
            background-color: var(--dark-bg);
            overflow-x: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #app-container {
            width: 100%;
            max-width: 800px; /* é™åˆ¶æœ€å¤§å¯¬åº¦ï¼Œé›»è…¦ç€è¦½å™¨æ›´èˆ’é© */
            min-height: 100vh;
            background-color: var(--dark-bg);
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
            padding: 20px;
            box-sizing: border-box;
        }

        /* æ¨™é¡Œå‹•ç•«æ•ˆæœ (å¡é€šé¢¨æ ¼) */
        h1, h2 {
            font-family: var(--font-cartoon);
            color: var(--main-color);
            text-align: center;
            text-shadow: 3px 3px 0 #000000;
            animation: bounce 1s infinite alternate;
        }

        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-5px); }
        }

        /* --- é¦–é æ¨£å¼ --- */
        #home-screen {
            text-align: center;
            padding: 40px 20px;
        }

        #background-visual {
            background-image: url('/* [æ›¿æ›æˆæ‚¨çš„é»ƒé‡‘è™è èˆ‡ç¨»ç±³èƒŒæ™¯åœ–ç‰‡ URL] */');
            background-size: cover;
            background-position: center;
            height: 300px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.7);
            position: relative;
            overflow: hidden;
        }

        #characters {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            height: 100%;
            align-items: flex-end;
        }

        .character-img {
            width: 120px;
            height: 180px;
            background-size: cover;
            border-radius: 10px 10px 0 0;
            border: 5px solid var(--accent-color);
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.5);
            animation: float 3s ease-in-out infinite alternate;
        }

        #char-girl {
            background-image: url('/* [æ›¿æ›æˆæ‚¨çš„é…·ç‚«å¥³å­©è§’è‰²åœ–ç‰‡ URL] */');
            animation-delay: 0s;
        }
        #char-boy {
            background-image: url('/* [æ›¿æ›æˆæ‚¨çš„é…·ç‚«ç”·å­©è§’è‰²åœ–ç‰‡ URL] */');
            animation-delay: 1.5s;
        }

        @keyframes float {
            from { transform: translateY(0); }
            to { transform: translateY(-10px); }
        }

        /* --- éŠæˆ²å¡ç‰‡æ¨£å¼ --- */
        .card {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            border-left: 5px solid var(--main-color);
        }

        .level-content {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        /* è¼¸å…¥æ¡†å’ŒæŒ‰éˆ• */
        input[type="text"], button {
            padding: 12px;
            border-radius: 8px;
            border: none;
            font-size: 1.1em;
            font-family: var(--font-body);
        }

        input[type="text"] {
            background-color: var(--dark-bg);
            color: var(--text-color);
            border: 2px solid var(--main-color);
            transition: border-color 0.3s;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        button {
            cursor: pointer;
            background-color: var(--main-color);
            color: var(--dark-bg);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: transform 0.1s, background-color 0.3s;
        }

        button:hover {
            background-color: #e67e22;
        }

        button:active {
            transform: scale(0.98);
        }

        .locked-level {
            opacity: 0.5;
            pointer-events: none;
        }

        .success-message {
            color: var(--accent-color);
            font-weight: bold;
            margin-top: 10px;
            animation: fadeIn 1s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* --- è­‰æ›¸æ¨£å¼ (æœ€å¾Œä¸€é—œ) --- */
        #certificate-screen {
            text-align: center;
            padding: 40px 20px;
            display: none; /* é è¨­éš±è— */
        }

        #certificate {
            background-color: #f7f7f7;
            color: #333;
            border: 10px solid var(--main-color);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            max-width: 600px;
            margin: 20px auto;
        }
        #certificate h2 {
            font-family: 'Times New Roman', serif;
            color: #c0392b;
            font-size: 2.5em;
            text-shadow: none;
        }
        #certificate p {
            font-size: 1.2em;
            margin: 15px 0;
        }
        #certificate-name {
            font-family: var(--font-cartoon);
            font-size: 2em;
            color: var(--accent-color);
            margin: 10px 0;
            display: block;
        }
        #certificate-date {
            font-size: 0.9em;
            color: #777;
            margin-top: 20px;
        }

        /* --- RWD æ‰‹æ©Ÿå„ªåŒ– --- */
        @media (max-width: 600px) {
            #app-container {
                padding: 10px;
            }
            h1 {
                font-size: 1.8em;
            }
            h2 {
                font-size: 1.4em;
            }
            #background-visual {
                height: 200px;
            }
            .character-img {
                width: 80px;
                height: 120px;
            }
            .card {
                padding: 15px;
            }
        }
    </style>
</head>
<body>

    <audio id="bg-music" loop autoplay>
        <source src="/* [æ›¿æ›æˆæ‚¨çš„è¼•é¬†æ„‰å¿«éŸ³æ¨‚æª”æ¡ˆ URL (e.g., .mp3)] */" type="audio/mpeg">
        æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³æ¨‚æ’­æ”¾ã€‚
    </audio>

    <div id="app-container">

        <section id="home-screen">
            <h1>ğŸ¦‡ æ–°å˜‰åœ‹å°å¯¦å¢ƒè§£è¬ ğŸŒ¾</h1>
            <h2>é»ƒé‡‘è™è çš„ç§˜å¯† | The Golden Bat's Secret</h2>

            <div id="background-visual">
                <div id="characters">
                    <div id="char-girl" class="character-img"></div>
                    <div id="char-boy" class="character-img"></div>
                </div>
            </div>

            <div class="card">
                <p>æ­¡è¿ä¾†åˆ°æ–°å˜‰ï¼æº–å‚™å¥½å’Œæˆ‘å€‘ä¸€èµ·æ¢ç´¢é»ƒé‡‘è™è çš„ç”Ÿæ…‹å¥§ç§˜äº†å—ï¼Ÿ</p>
                <p>Welcome to Shin-Chia! Are you ready to explore the mystery of the Golden Bat?</p>
                <input type="text" id="nickname-input" placeholder="è«‹è¼¸å…¥æ‚¨çš„æš±ç¨± (Enter Your Nickname)">
                <button onclick="startGame()">é–‹å§‹å†’éšª (Start Adventure)</button>
            </div>
        </section>

        <section id="game-levels" style="display: none;">
            <p style="text-align: right; margin-bottom: 20px;">ç©å®¶æš±ç¨±: <strong id="player-nickname"></strong></p>

            <div id="level-1" class="card">
                <h2>Level 1: è™è åœ¨å“ªè£¡? | Where is the Bat?</h2>
                <div class="level-content">
                    <p>é»ƒé‡‘è™è åˆç¨±ä»€éº¼è™è ï¼Ÿè«‹ç”¨**ä¸­æ–‡**å›ç­”ã€‚<br>What is another common name for the Golden Bat? Please answer in **Chinese**.</p>
                    <input type="text" id="answer-1" placeholder="è«‹è¼¸å…¥ä¸­æ–‡ç­”æ¡ˆ (Enter Chinese Answer)">
                    <p id="message-1" class="success-message" style="display: none;"></p>
                    <button onclick="checkAnswer(1)">æª¢æŸ¥ç­”æ¡ˆ (Check Answer)</button>
                </div>
            </div>

            <div id="level-2" class="card locked-level">
                <h2>Level 2: è™è åƒä»€éº¼? | What Does the Bat Eat?</h2>
                <div class="level-content">
                    <p>é»ƒé‡‘è™è ä¸»è¦åƒèšŠèŸ²ã€‚è«‹å°‡ "insect" ç¿»è­¯æˆ**ä¸­æ–‡**ã€‚<br>The Golden Bat mainly eats insects. Please translate "insect" into **Chinese**.</p>
                    <input type="text" id="answer-2" placeholder="è«‹è¼¸å…¥ä¸­æ–‡ç­”æ¡ˆ (Enter Chinese Answer)">
                    <p id="message-2" class="success-message" style="display: none;"></p>
                    <button onclick="checkAnswer(2)">æª¢æŸ¥ç­”æ¡ˆ (Check Answer)</button>
                </div>
            </div>

            <div id="level-3" class="card locked-level">
                <h2>Level 3: è™è èˆ‡ç¨»ç±³? | Bat and Rice?</h2>
                <div class="level-content">
                    <p>æ–°å˜‰åœ‹å°æ ¡å€å‘¨åœç¨®æ¤äº†è¨±å¤šç¨»ç±³ã€‚é»ƒé‡‘è™è æœ‰åŠ©æ–¼è¾²å¤«çš„åŸå› æ˜¯ï¼Ÿè«‹ç”¨**è‹±æ–‡**ç°¡çŸ­å›ç­”ã€‚<br>Rice is planted around Shin-Chia Elementary. Why are Golden Bats helpful to the farmers? Answer briefly in **English**.</p>
                    <input type="text" id="answer-3" placeholder="è«‹è¼¸å…¥è‹±æ–‡ç­”æ¡ˆ (Enter English Answer)">
                    <p id="message-3" class="success-message" style="display: none;"></p>
                    <button onclick="checkAnswer(3)">æª¢æŸ¥ç­”æ¡ˆ (Check Answer)</button>
                </div>
            </div>

        </section>

        <section id="certificate-screen">
            <h1>ä»»å‹™å®Œæˆï¼Congratulation!</h1>
            <div id="certificate">
                <h2>é€šé—œè­‰æ˜æ›¸<br>Certificate of Completion</h2>
                <p>æ­å–œç©å®¶</p>
                <span id="certificate-name"></span>
                <p>æˆåŠŸå®Œæˆã€Œæ–°å˜‰åœ‹å°é»ƒé‡‘è™è ç”Ÿæ…‹å¯¦å¢ƒè§£è¬ã€æ‰€æœ‰é—œå¡ï¼Œ<br>å±•ç¾å‡ºå°ç”Ÿæ…‹ä¿è‚²èˆ‡é›™èªå­¸ç¿’çš„ç†±å¿±ã€‚</p>
                <p>Has successfully completed all levels of the "Shin-Chia Golden Bat Ecology Riddle", demonstrating enthusiasm for ecological conservation and bilingual learning.</p>
                <p id="certificate-date">é ’ç™¼æ—¥æœŸ: ${new Date().toLocaleDateString('zh-TW')}</p>
                <img src="/* [æ›¿æ›æˆæ‚¨çš„æ ¡å¾½æˆ–è™è åœ–æ¡ˆ] */" alt="æ–°å˜‰åœ‹å°åœ–æ¡ˆ" style="width: 80px; margin-top: 15px;">
            </div>
        </section>

        <footer style="text-align: center; margin-top: 30px; font-size: 0.8em; color: #7f8c8d;">
            ç‰ˆæœ¬è™Ÿ: v0.1 | æ–°å˜‰åœ‹å°æ ¡æœ¬èª²ç¨‹å°ˆç”¨
        </footer>
    </div>

    <script>
        /*
         * --- JavaScript é‚è¼¯ï¼šé—œå¡äº’å‹•èˆ‡æµç¨‹æ§åˆ¶ ---
         */

        let playerName = "";
        let currentLevel = 1;
        const correctAnswers = {
            1: ["æ±äºå®¶è ", "æ±äºæŠ˜ç¿…è "], // å¯¦éš›ä¸Šé»ƒé‡‘è™è æ˜¯æ±äºæŠ˜ç¿…è ï¼Œä½†å¸¸è¢«èª¤ç¨±ç‚ºæ±äºå®¶è ï¼Œå…©å€‹éƒ½æ¥å—ã€‚
            2: ["æ˜†èŸ²", "èŸ²å­"],
            3: ["pest control", "eat insects", "eat the pests"] // åªè¦åŒ…å«"pest"æˆ–"insects"
        };

        // å•Ÿå‹•éŠæˆ²ï¼šå„²å­˜æš±ç¨±ä¸¦åˆ‡æ›åˆ°é—œå¡ç•«é¢
        function startGame() {
            playerName = document.getElementById('nickname-input').value.trim();
            if (playerName.length < 2) {
                alert("è«‹è¼¸å…¥ä¸€å€‹æš±ç¨±ï¼Please enter a nickname!");
                return;
            }

            document.getElementById('player-nickname').textContent = playerName;
            document.getElementById('home-screen').style.display = 'none';
            document.getElementById('game-levels').style.display = 'block';

            // å˜—è©¦æ’­æ”¾éŸ³æ¨‚ (éœ€ä½¿ç”¨è€…äº’å‹•æ‰èƒ½æ’­æ”¾)
            document.getElementById('bg-music').play().catch(error => {
                console.log("éŸ³æ¨‚è‡ªå‹•æ’­æ”¾å¤±æ•—ï¼Œéœ€ä½¿ç”¨è€…é»æ“Šæ’­æ”¾ã€‚");
            });
        }

        // æª¢æŸ¥é—œå¡ç­”æ¡ˆ
        function checkAnswer(level) {
            const inputElement = document.getElementById(`answer-${level}`);
            const messageElement = document.getElementById(`message-${level}`);
            const userAnswer = inputElement.value.trim().toLowerCase().replace(/[^a-z0-9\u4e00-\u9fa5\s]/g, ''); // ç§»é™¤æ¨™é»ç¬¦è™Ÿ
            const correctSet = correctAnswers[level];
            let isCorrect = false;

            if (level === 3) {
                // é—œå¡ 3 è‹±æ–‡ç­”æ¡ˆï¼Œæª¢æŸ¥æ˜¯å¦åŒ…å«é—œéµè©
                for (const keyword of correctSet) {
                    if (userAnswer.includes(keyword)) {
                        isCorrect = true;
                        break;
                    }
                }
            } else {
                // é—œå¡ 1, 2 ä¸­æ–‡ç­”æ¡ˆï¼Œå…¨åŒ¹é…
                isCorrect = correctSet.some(answer => userAnswer === answer);
            }

            if (isCorrect) {
                messageElement.textContent = "âœ… å¤ªæ£’äº†ï¼çå‹µï¼šè§£é–ä¸‹ä¸€é—œï¼";
                messageElement.style.display = 'block';
                inputElement.disabled = true;

                // é€²å…¥ä¸‹ä¸€é—œæˆ–é€šé—œ
                if (level < 3) {
                    currentLevel = level + 1;
                    unlockNextLevel(currentLevel);
                } else {
                    showCertificate();
                }

            } else {
                messageElement.textContent = "âŒ ç­”æ¡ˆä¸æ­£ç¢ºï¼Œå†è©¦è©¦çœ‹ï¼(Hint: è«‹æ³¨æ„é›™èªæç¤º)";
                messageElement.style.display = 'block';
            }
        }

        // è§£é–ä¸‹ä¸€é—œ
        function unlockNextLevel(level) {
            const nextLevelElement = document.getElementById(`level-${level}`);
            if (nextLevelElement) {
                nextLevelElement.classList.remove('locked-level');
            }
        }

        // é¡¯ç¤ºé€šé—œè­‰æ›¸
        function showCertificate() {
            document.getElementById('game-levels').style.display = 'none';
            document.getElementById('certificate-name').textContent = playerName;
            document.getElementById('certificate-screen').style.display = 'block';
        }

        // æª¢æŸ¥ä½¿ç”¨è€…æ˜¯å¦å·²é€²è¡Œäº’å‹• (ç”¨æ–¼è§£æ±ºæ‰‹æ©Ÿç€è¦½å™¨éŸ³æ¨‚æ’­æ”¾é™åˆ¶)
        document.addEventListener('click', () => {
            const music = document.getElementById('bg-music');
            if (music.paused) {
                music.play().catch(e => console.log("ç­‰å¾…æ›´å¤šä½¿ç”¨è€…äº’å‹•ã€‚"));
            }
        }, { once: true });

        // è¨­å®šåˆå§‹æ—¥æœŸ
        document.getElementById('certificate-date').textContent = 'é ’ç™¼æ—¥æœŸ: ' + new Date().toLocaleDateString('zh-TW', { year: 'numeric', month: 'long', day: 'numeric' });
    </script>
</body>
</html>