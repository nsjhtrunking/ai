<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>互動儀表板範本</title>
  <style>
    :root {
      --bg:#050608;
      --panel:#10141b;
      --muted:#a0a4ad;
      --text:#e5e7eb;
      --brand:#a5d68a;
      --brand-2:#8fc36f;
      --accent:#a5d68a;
    }
    body {
      margin:0;
      min-height:100vh;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans TC",sans-serif;
      background:
        radial-gradient(1200px 500px at 80% -50%, rgba(165,214,138,.22), transparent 60%),
        radial-gradient(900px 450px at -10% 0%, rgba(148,163,184,.18), transparent 60%),
        var(--bg);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      box-sizing:border-box;
    }
    .shell {
      width:100%;
      max-width:1100px;
      background:linear-gradient(180deg,rgba(15,23,42,.96),rgba(3,7,18,.98));
      border-radius:24px;
      border:1px solid rgba(255,255,255,.08);
      box-shadow:0 22px 50px rgba(0,0,0,.7);
      padding:22px 22px 18px;
      display:flex;
      flex-direction:column;
      gap:18px;
    }
    header {
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      justify-content:space-between;
      align-items:baseline;
    }
    h1 {
      margin:0;
      font-size:clamp(22px,3vw,26px);
      letter-spacing:.03em;
    }
    .tagline {
      margin:0;
      font-size:14px;
      color:var(--muted);
    }
    .badge {
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(165,214,138,.6);
      color:var(--accent);
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.14em;
      white-space:nowrap;
    }
    main {
      background:#050814;
      border-radius:18px;
      border:1px solid rgba(148,163,184,.22);
      padding:16px;
      display:grid;
      gap:16px;
    }
    @media(min-width:900px){
      main {
        grid-template-columns: minmax(0,1.2fr) minmax(0,1fr);
      }
    }
    .panel-title {
      font-size:15px;
      font-weight:600;
      margin-bottom:6px;
      color:#e5e7eb;
    }
    .panel-desc {
      font-size:13px;
      color:var(--muted);
      margin-bottom:10px;
    }
    .back-link {
      text-align:right;
      font-size:12px;
      color:var(--muted);
    }
    .back-link a {
      color:var(--accent);
      text-decoration:none;
    }
    .back-link a:hover {
      text-decoration:underline;
    }
    .pill {
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.4);
      font-size:11px;
      color:var(--muted);
      margin-right:6px;
      margin-bottom:4px;
    }
  </style>
</head>
<body>
<div class="shell">
  <header>
    <div>
      <h1>互動儀表板範本</h1>
      <p class="tagline">可以改成台股模擬、感測數據面板或教學用監控畫面。</p>
    </div>
    <div class="badge">CSS + JS · Dashboard</div>
  </header>
  <main>

    <section>
      <div class="panel-title">即時數值儀表</div>
      <p class="panel-desc">
        這裡示範用一個簡單的「指針表」加上歷史折線。右邊可以切換模式，或在實作時連接到實際資料來源。
      </p>
      <div style="display:grid;grid-template-columns:minmax(0,1.1fr) minmax(0,.9fr);gap:14px;align-items:center;">
        <div>
          <canvas id="gauge" style="width:100%;max-width:360px;height:200px;background:#020617;border:1px solid rgba(148,163,184,.3);border-radius:14px;"></canvas>
        </div>
        <div>
          <div class="panel-title" style="font-size:14px;">模式選擇（示意）</div>
          <div style="display:flex;flex-direction:column;gap:8px;font-size:13px;color:var(--muted);">
            <label><input type="radio" name="mode" value="random" checked> 模擬隨機值</label>
            <label><input type="radio" name="mode" value="smooth"> 平滑變動</label>
            <label><input type="radio" name="mode" value="burst"> 偶爾大幅震盪</label>
          </div>
          <p style="font-size:12px;color:var(--muted);margin-top:10px;">
            這個儀表板沒有連到任何真實 API，純粹示意互動介面與視覺，方便你之後接上台股 / 科學感測資料。
          </p>
        </div>
      </div>
    </section>
    <section>
      <div class="panel-title">應用想法</div>
      <p class="panel-desc">
        你可以把這個範本改成：
      </p>
      <ul style="font-size:13px;color:var(--muted);padding-left:20px;line-height:1.7;">
        <li>顯示學生實驗數據（例如：溫度、濕度、光照強度）。</li>
        <li>台股模擬平台中的單一指標（例如：目前獲利率、風險指標）。</li>
        <li>課堂競賽的即時分數看板。</li>
      </ul>
      <div>
        <span class="pill">Canvas 圓弧刻度</span>
        <span class="pill">單一指標可視化</span>
      </div>
    </section>

  </main>
  <div class="back-link">
    ⬅︎ <a href="../index.html">回入口 LAB ENTRANCE</a>
  </div>
</div>
</body>
</html>

<script>
(function(){
  const canvas = document.getElementById("gauge");
  if(!canvas) return;
  const ctx = canvas.getContext("2d");
  function resize(){
    const r = canvas.getBoundingClientRect();
    canvas.width = r.width * window.devicePixelRatio;
    canvas.height = r.height * window.devicePixelRatio;
    ctx.setTransform(window.devicePixelRatio,0,0,window.devicePixelRatio,0,0);
  }
  resize();
  window.addEventListener("resize", resize);

  let value = 40;
  let target = 65;
  let mode = "random";

  document.querySelectorAll("input[name='mode']").forEach(r=>{
    r.addEventListener("change",()=>{ mode = r.value; });
  });

  function updateTarget(){
    if(mode==="random"){
      target = 10 + Math.random()*90;
    }else if(mode==="smooth"){
      target += (Math.random()*20-10);
      if(target<10) target=10;
      if(target>95) target=95;
    }else if(mode==="burst"){
      if(Math.random()<0.15){
        target = 10 + Math.random()*90;
      }
    }
  }

  setInterval(updateTarget, 900);

  function draw(){
    const w = canvas.clientWidth;
    const h = canvas.clientHeight;
    const cx = w/2;
    const cy = h*0.9;
    const radius = Math.min(w,h*1.5)/2 - 20;

    ctx.clearRect(0,0,w,h);

    // 外圈
    ctx.beginPath();
    ctx.arc(cx,cy,radius,Math.PI,2*Math.PI);
    ctx.strokeStyle = "rgba(31,41,55,1)";
    ctx.lineWidth = 14;
    ctx.stroke();

    // 彩色刻度
    const grd = ctx.createLinearGradient(cx-radius,cy,cx+radius,cy);
    grd.addColorStop(0,"#ef4444");
    grd.addColorStop(0.5,"#eab308");
    grd.addColorStop(1,"#22c55e");
    ctx.beginPath();
    ctx.arc(cx,cy,radius,Math.PI,Math.PI + value/100*Math.PI);
    ctx.strokeStyle = grd;
    ctx.lineWidth = 10;
    ctx.stroke();

    // 刻度線
    ctx.save();
    ctx.translate(cx,cy);
    for(let i=0;i<=10;i++){
      const angle = Math.PI + (i/10)*Math.PI;
      const inner = radius-14;
      const outer = radius+4;
      ctx.beginPath();
      ctx.moveTo(Math.cos(angle)*inner,Math.sin(angle)*inner);
      ctx.lineTo(Math.cos(angle)*outer,Math.sin(angle)*outer);
      ctx.strokeStyle = "rgba(148,163,184,.7)";
      ctx.lineWidth = i%5===0?2:1;
      ctx.stroke();
    }
    ctx.restore();

    // 指針
    const ang = Math.PI + value/100*Math.PI;
    const needleLen = radius-20;
    ctx.beginPath();
    ctx.moveTo(cx,cy);
    ctx.lineTo(cx+Math.cos(ang)*needleLen, cy+Math.sin(ang)*needleLen);
    ctx.strokeStyle = "#e5f7cc";
    ctx.lineWidth = 3;
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(cx,cy,6,0,Math.PI*2);
    ctx.fillStyle = "#e5f7cc";
    ctx.fill();
    ctx.lineWidth = 2;
    ctx.strokeStyle = "#020617";
    ctx.stroke();

    // 數字
    ctx.fillStyle = "#e5e7eb";
    ctx.font = "600 20px system-ui";
    const text = value.toFixed(1);
    const tw = ctx.measureText(text).width;
    ctx.fillText(text, cx-tw/2, cy-radius/2);

    ctx.fillStyle = "rgba(148,163,184,.9)";
    ctx.font = "12px system-ui";
    const label = "指標值 (%)";
    const lw = ctx.measureText(label).width;
    ctx.fillText(label, cx-lw/2, cy-radius/2+16);

    requestAnimationFrame(draw);
  }

  function tick(){
    value += (target - value) * 0.05;
  }
  setInterval(tick, 50);
  draw();
})();
</script>
